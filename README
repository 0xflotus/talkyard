


Building and Startign Debiki
=============================

I've done this on Ubuntu Linux only; I'm using Ubuntu Desktop 12.04 LTS.



1. Install and start PostgreSQL
-----------------------------

If you use Ubuntu Server 12.04 LTS:

$ sudo aptitude install postgresql-9.1 postgresql-contrib-9.1

(PostgreSQL starts automatically)



2. Create a PostgreSQL database and user
-----------------------------

$ sudo su - postgres
$ psql
postgres=# create user debiki_prod password 'apaskalabanan';
postgres=# alter user debiki_prod set search_path to '$user';
postgres=# create database debiki_prod owner debiki_prod encoding 'UTF8';
postgres=# \q
$ psql --dbname debiki_prod
debiki_prod=# drop schema public;
debiki_prod=# create schema authorization debiki_prod;



3. Install Java and Play Framework 2.1, Make and Nodejs
-----------------------------

See: http://www.playframework.com/documentation/2.1.0/Installing

In short:

Install Java:

$ sudo aptitude install openjdk-7-jdk


Install Play:

$ cd ~
$ mkdir play-2.1
$ cd play-2.1
$ wget http://downloads.typesafe.com/play/2.1.1/play-2.1.1.zip
$ unzip play-2.1.0.zip
$ chmod a+x play-2.1.0/play
$ cd ~
$ mkdir bin
$ cd bin
$ ln -s ~/play-2.1/play-2.1.0/play ./

Now you can test start Play like so:

$ ~/bin/play help


Install Nodejs:

$ sudo apt-get install build-essential
$ sudo apt-get install python
$ mkdir ~/nodejs/
$ cd ~/nodejs/
$ wget http://nodejs.org/dist/v0.10.5/node-v0.10.5.tar.gz
$ sudo tar -xzvf node-v0.10.5.tar.gz
$ cd node-v0.10.5/
$ sudo ./configure --prefix=/usr/local/
$ sudo make
$ sudo make install
$ sudo npm install -g grunt-cli



Install Make:

$ sudo aptitude install make




4. Download Debiki to your local desktop machine:
-----------------------------

$ sudo aptitude install git
$ mkdir -p ~/dev/debiki
$ cd ~/dev/debiki
$ git clone ...
$ cd debiki-app-play/
$ git submodule init
$ git submodule update

Download Node modules:
$ /usr/local/bin/npm install

For now, compile JS manually: (Sorry!)
$ grunt


5. Start Debiki and create the first website
-----------------------------

$ cd ~/dev/debiki/debiki-app-play/
$ play
[debiki-app-play]$ compile
[debiki-app-play]$ run

Then go to http(s)://serveradress/-/install/ and follow the instructions.

(If you're curious: The instructions tells you to find a password in the server
log files, and then to input that password, so the server knows that you are
you (in case other people also have access to the web pages, over the
internet).  After this, you're asked to create an admin account. That is,
specify a username and a password, or login via e.g. Gmail.)

Once you've installed everything, visit 
  http(s)://serveradress/-/admin/

and create a forum or a blog or something.



License
=============================

AGPL. There is no commercial license.

In the distant future, perhaps the license requirements will be relaxed from AGPL to GPL.

Why not GPL directly? Please have a look at this blog post.


vim: fdm=marker et ts=2 sw=2 list
