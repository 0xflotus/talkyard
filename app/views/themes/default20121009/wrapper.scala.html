@(tpi: debiki.TemplateProgrammingInterface, isHomepage: Boolean = false)(body: Html)

@homepage = @{ if (isHomepage) " homepage" else "" }

<!DOCTYPE html>

<html class="@tpi.debikiHtmlTagClasses@homepage @tpi.configValue("html-tag-classes")" @tpi.configValue("html-tag-attributes-excl-class")>
<head>
  @tpi.debikiMeta

  <title>@tpi.configValue("title")</title>
  <meta name="description" content="@tpi.configValue("description")">
  <meta name="keywords" content="@tpi.configValue("keywords")">

  @tpi.debikiStyles
  @Html(tpi.configValue("html-head-styles"))
  @tpi.stylesheetBundle("styles.css")

  @tpi.debikiScripts

  <script>
    if (!Modernizr.touch) jQuery(document).ready(function($) {
      Modernizr.load({
        load: [
          '/-/tmp/yoxview/jquery.yoxview-2.21.min.js',
          '/-/tmp/yoxview/yoxview.css'],
        complete: function() {
          jQuery.noConflict();
          $('.yoxview').yoxview();
        }
      });
    });
  </script>

  @Html(tpi.configValue("html-head-scripts"))
</head>
<body>

@tpi.debikiDashbar

<div id='topbar'>
  <div class='container ui-helper-clearfix'>
    <a class='logo-slogan' href='/'>
      <img src="@tpi.websiteConfigValue("logo-image")">
      <span class='logo'>@Html(tpi.websiteConfigValue("logo-text"))</span>
      <span class='slogan'>@Html(tpi.websiteConfigValue("slogan"))</span>
    </a>
    <span id='dw-loginout'>@tpi.loginLinkAndUserName</span>
    <nav id='site-nav' class='debiki-0-mark-current-site-section'>
      @Html(tpi.websiteConfigValue("navigation-links"))
    </nav>
  </div>
</div>

<div id='alfa-info' class='debiki-show-if-lte-ie7'>
  <div class='alfa-small'>
    Please consider upgrading to
    <a rel='nofollow' href='http://windows.microsoft.com/en-US/internet-explorer/products/ie/home'
      >a newer version of Internet Explorer</a>
    (or install <a rel='nofollow' href='http://www.google.com/chrome'>Google Chrome</a>,
    it's even faster).
  </div>
</div>

<div class='container'>
  <div id="content">
    <article>
      @body
    </article>
  </div>
</div>

<footer>
  <div class='footer'>
    <p><small class="copyright">@Html(tpi.configValue("copyright"))</small></p>
    <p><small class="license">@Html(tpi.configValue("license"))</small></p>
    <p><small class="user-contrib-license">@Html(tpi.configValue("user-contributions-license"))</small></p>
    <p><small class="contact-link">@Html(tpi.configValue("contact-link"))</small></p>
  </div>
</footer>

@tpi.debikiAppendToBodyTags

</body>
</html>

