<!DOCTYPE html>
<html ng-app>
<head>
  <title>Debiki Dashboard</title>
  <meta name="viewport" content="initial-scale=1.0, minimum-scale=0.01">
  <meta charset="utf-8">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Bree+Serif">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body id="details" ng-cloak>

  <div debiki-admin class="container">
  <h1>Debiki Admin</h1>
  <tabset>

    <tab heading="Whole Site">
      <tabset>
        <tab heading="Contents">
          <view-topics></view-topics>
        </tab>
        <tab heading="Comments">
          <view-comments></view-comments>
        </tab>
        <tab heading="Settings">
          <div settings>
            <div ng-include="view/site/site_wide_settings.html"></div>
          </div>
        </tab>
        <tab heading="Special Content">
          <div special-content>
            <div ng-include="view/site/site_wide_special_content.html"></div>
          </div>
        </tab>
      </tabset>
    </tab>


    <tab heading="Pages" ng-if="adminCtrl.pages.length > 0">
      <tabset>
        <tab heading="Pages">
          <view-topics page-role="Generic"></view-topics>
        </tab>
        <tab heading="Comments">
          <view-comments page-role="Generic"></view-comments>
        </tab>
      </tabset>
    </tab>


    <tab ng-if="adminCtrl.blogs.length > 0"
        heading="{{ adminCtrl.blogs.length == 1 ? 'Blog' : 'Blogs' }}">

      <tabset ng-if="adminCtrl.blogs.length == 1">
        <tab heading="Posts">
          <view-topics root-page-id="{{adminCtrl.blogs[0].id}}"></view-topics>
        </tab>
        <tab heading="Comments">
          <view-comments root-page-id="{{adminCtrl.blogs[0].id}}"></view-comments>
        </tab>
      </tabset>

      <tabset ng-if="adminCtrl.blogs.length > 1">
        <tab ng-repeat="blog in adminCtrl.blogs" header="{{ blog.prettyTitle }}">
          <tabset>
            <tab heading="Posts">
              <view-topics root-page-id="{{blog.id}}"></view-topics>
            </tab>
            <tab heading="Comments">
              <view-comments root-page-id="{{blog.id}}"></view-comments>
            </tab>
          </tabset>
        </tab>
      </tabset>

    </tab>


    <tab ng-if="adminCtrl.forums.length > 0"
        heading="{{ adminCtrl.forums.length == 1 ? 'Forum' : 'Fourms' }}">

      <tabset ng-if="adminCtrl.forums.length == 1">
        <tab heading="Topics">
          <view-topics root-page-id="{{adminCtrl.forums[0].id}}"></view-topics>
        </tab>
        <tab heading="Comments">
          <view-comments root-page-id="{{adminCtrl.forums[0].id}}"></view-comments>
        </tab>
        <tab heading="Settings">
          <div settings root-page-id="adminCtrl.forums[0].id">
            <div ng-include="view/forum/forum_settings.html"></div>
          </div>
        </tab>
      </tabset>

      <tabset ng-if="adminCtrl.forums.length > 1">
        <tab ng-repeat="forum in adminCtrl.forums" heading="{{ forum.prettyTitle }}">
          <tabset>
            <tab heading="Topics">
              <view-topics root-page-id="{{forum.id}}"></view-topics>
            </tab>
            <tab heading="Comments">
              <view-comments root-page-id="{{forum.id}}"></view-comments>
            </tab>
            <tab heading="Settings">
              <div settings root-page-id="forum.id">
                <div ng-include="view/forum/forum_settings.html"></div>
              </div>
            </tab>
          </tabset>
        </tab>
      </tabset>

    </tab>


    <tab heading="Embedded Comments" ng-if="adminCtrl.embeddedTopics.length > 0">
      <tabset>
        <tab heading="Topics">
          <view-topics page-role="EmbeddedComments"></view-topics>
        </tab>
        <tab heading="Comments">
          <view-comments page-role="EmbeddedComments"></view-comments>
        </tab>
        <tab heading="Settings">
          Settings
        </tab>
      </tabset>
    </tab>

  </tabset>
  </div>

  <script src="packages/shadow_dom/shadow_dom.min.js"></script>
  <script type="application/dart" src="main.dart"></script>
  <script type="text/javascript" src="packages/browser/dart.js"></script>
</body>
</html>
<!-- vim: set et ts=2 sw=2 tw=0 fdm=marker list :-->
