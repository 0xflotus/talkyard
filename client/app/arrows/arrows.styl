/*!
 * Copyright (C) 2010-2013 Kaj Magnus Lindberg (born 1979)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

// Styles that could be reused if building something for Node.js or WordPress.



// SVG arrows
//===========================


.dw-t svg
  position: absolute
  top: 0
  left: 0
  height: 100% // or Opera, only Opera, sets 150px, no idea why
  width: 100% // perhaps some future version of Opera will break otherwise

.dw-svg-parent > :not(svg) // [31Ik53]
  z-index: 2 // or would not be clickable; <svg> would be above
  position: relative // or z-index has no effect

.dw-t svg path
  fill: none
  // Warning: stroke color also specified in debiki.js, $highlightOff().
  stroke: #dbdbdb
  stroke-width: 3

// This doesn't work; cannot add class dw-highlight to a <path> at runtime.
// COULD style an invisible elem in this manner, and read the props via
// JavaScript. Then I can still place all CSS stuff in this file.
//.dw-t svg path.dw-highlight {
//  stroke-width: 4;
//  stroke: #f0a005;
//}



// PNG arrows
//===========================


.dw-arw-hz-line-to-this,
.dw-arw-hz-line-to-sibling,
.dw-arw-vt-line-to-sibling-1,
.dw-arw-vt-line-to-sibling-2
  background-color: #ddd
  position: absolute
  z-index: 1

.dw-arw-vt-line-to-sibling-1,
.dw-arw-vt-line-to-sibling-2
  height: 100%
  width: 3px
  left: 4px

.dw-arw-vt-line-to-sibling-1
  top: -25px
  height: 25px

.dw-arw-hz-line-to-this,
.dw-arw-hz-line-to-sibling
  top: -61px
  height: 3px

.dw-arw-hz-line-to-this
  left: -60px
  width: 60px

.dw-arw-hz-line-to-sibling
  left: 0
  width: 100%

.dw-arw-vt-curve-to-this,
.dw-depth-0:not(.dw-hz) > .dw-single-and-multireplies > .dw-res > li > .dw-t > .dw-single-and-multireplies > .dw-res > .dw-t > .dw-arw-vt-curve-to-this
  position: absolute
  background-color: transparent
  background: url(img/arrows-etcetera-gray.png) no-repeat -33px -228px
  width: 33px
  left: 1px
  top: -24px
  height: 34px

// The last reply isn't indented.
.dw-res > li:last-child > .dw-arw-vt-curve-to-this
  left: 4px
  top: -50px
  width: 18px
  height: 50px
  background: url(img/arrows-etcetera-gray.png) no-repeat -57px -79px

// Hide arrow to single reply, not needed, since it should be obvious
// that the comment replies to its immediate parent.
// Also see [90kfHW2] in debiki-arrows-peng.js.
.dw-res > .dw-t:only-child > .dw-arw-vt-curve-to-this
  display: none

// However do show it, if we use single column layout, because then replies
// to article replies are always indented (and an arrow is needed if there's
// indentation).
.dw-depth-0:not(.dw-hz) > .dw-single-and-multireplies > .dw-res > li > .dw-t > .dw-single-and-multireplies > .dw-res > .dw-t:last-child > .dw-arw-vt-curve-to-this
  display: block
  background: url("img/arrows-etcetera-gray.png") no-repeat -33px -228px
  left: 1px
  top: -25px
  height: 34px

// Tweak offset for arrows to collapsed replies (there's no .dw-t
// that "adjusts" the offset)
.dw-res.dw-zd .dw-arw-vt-curve-to-this
  left: -39px
  top: -50px
  // Hide vertical arrow â€” there're no more replies below;
  // all replies are collapsed.
  z-index: 2

.dw-res.dw-zd
  position: relative

.dw-hz > .dw-single-and-multireplies > .dw-res > li:last-child > .dw-t > .dw-arw-hz-curve-to-this,
.dw-res > .dw-t:last-child > .dw-arw-vt-curve-to-this
  // Hide parts of the end of the horizontal or vertical line that spans
  // all child threads, by placing this arrow's background on top.
  // (The rest of the line is hiddenb by .dw-arw-vt-hide-line-from-parent
  // and certain .dw-svg-fake-harrow:s.) Ooops it's been removed! rewrote.
  z-index: 2

.dw-arw-hz-curve-to-this,
.dw-arw-hz-branch-to-reply-btn
  background: transparent url(img/arrows-etcetera-gray.png) no-repeat 0 0
  position: absolute
  top: -63px
  left: -61px
  height: 34px
  width: 61px

.dw-arw-hz-branch-to-reply-btn,
.dw-arw-hz-curve-to-reply-btn
  background: url(img/arrows-etcetera-gray.png) no-repeat 0 -79px
  position: absolute
  top: 7px
  left: 0px
  height: 72px
  width: 57px
  z-index: 2

.dw-arw-hz-curve-to-reply-btn
  background: url(img/arrows-etcetera-gray.png) no-repeat 0 -152px
  height: 72px
  width: 38px


// For horizontal reply forms: An arrow to any replies to the right...
li.dw-fs-re:not(:last-child) .dw-arw-hz-line-to-sibling
  top: -39.5px

// ... But only show that arrow if horizontal layout ...
.dw-t:not(.dw-hz) > .dw-single-and-multireplies > .dw-res > .dw-fs-re .dw-arw
  display: none

// ... and if there're replies to the right.
li.dw-fs-re:last-child .dw-arw-hz-line-to-sibling
  display: none



// vim: fdm=marker et ts=2 sw=2 tw=80 fo=tcqwn list
