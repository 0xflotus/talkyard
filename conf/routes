# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# In Global.scala, routing is intercepted, and editPost/createPage/etc
# are called, based on the query string (e.g. ?edit=... or ?create-page).

# API calls
# Would be nice to change to <path>?login-simple / ?logout / etcetera,
# so the actual page will be included in the request. Then one would know
# on which page did the user start/end the session. But for now:
GET   /-/login                  controllers.AppLogin.showLoginForm
GET   /-/login                  controllers.AppLogin.showLoginFormReturnTo(returnToUrl)
GET   /-/login/:provider        controllers.AppLogin.loginWith(provider, returnToUrl)
POST  /-/login                  controllers.AppLogin.loginWithPostData(returnToUrl = "")
GET   /-/logout                 controllers.AppLogin.showLogoutForm
POST  /-/logout                 controllers.AppLogin.logout

GET   /-/api/login-simple       controllers.AppLoginGuest.loginGuest
POST  /-/api/login-simple       controllers.AppLoginGuest.loginGuest
GET   /-/api/login-openid       controllers.AppLoginOpenId.loginGet
POST  /-/api/login-openid       controllers.AppLoginOpenId.loginPost
GET   /-/api/login-openid-clbk  controllers.AppLoginOpenId.loginCallback(returnToUrl)
GET   /-/api/logout             controllers.AppLogin.logout
POST  /-/api/logout             controllers.AppLogin.logout

# SecureSocial, temporary links (I'll integrate with OpenID/Guest login later)
GET     /-/ss-test-login                   securesocial.controllers.LoginPage.login
GET     /-/ss-test-logout                  securesocial.controllers.LoginPage.logout
GET     /-/ss-test-signup                  securesocial.controllers.Registration.signUp
POST    /-/ss-test-signup                  securesocial.controllers.Registration.handleSignUp
GET     /-/ss-test-authenticate/:provider  securesocial.controllers.LoginPage.authenticate(provider)
POST    /-/ss-test-authenticate/:provider  securesocial.controllers.LoginPage.authenticateByPost(provider)

GET   /-/new-website/choose-name   controllers.AppCreateWebsite.showWebsiteNameForm
POST  /-/new-website/choose-name   controllers.AppCreateWebsite.handleWebsiteNameForm
GET   /-/new-website/choose-owner  controllers.AppCreateWebsite.showWebsiteOwnerForm
GET   /-/new-website/create        controllers.AppCreateWebsite.tryCreateWebsite
GET   /-/new-website/welcome-owner controllers.AppCreateWebsite.welcomeOwner

GET   /-/admin/                 controllers.Application.viewAdminPage

GET   /-/edit                   controllers.AppEdit.showEditFormAnyPage(pageId, postId)
POST  /-/edit                   controllers.AppEdit.edit
POST  /-/move-pages             controllers.AppMoveRenamePage.movePages
POST  /-/approve                controllers.AppReview.approve
POST  /-/reject                 controllers.AppReview.reject

GET   /-/*file                  controllers.Assets.at(path = "/public", file)
GET   /robots.txt               controllers.Assets.at(path = "/public", file = "robots.txt")

